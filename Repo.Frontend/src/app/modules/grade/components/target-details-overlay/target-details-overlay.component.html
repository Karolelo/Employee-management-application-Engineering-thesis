<div class="overlay">
  <div class="card">
    <button class="close" type="button" (click)="dismiss()">Ã—</button>

    <div class="admin-icons" *ngIf="isLeaderOrAdmin">
      <button class="icon" type="button" (click)="openEdit()">âœŽ</button>
      <button class="icon" type="button" (click)="askDelete()">ðŸ—‘</button>
    </div>

    <div *ngIf="loading" class="loading"><mat-spinner></mat-spinner></div>

    <ng-container *ngIf="!loading && target">
      <h2 class="title">{{ target.name }}</h2>

      <div class="desc-scroll">
        <p>{{ target.description || 'â€”' }}</p>
      </div>

      <div class="meta">
        <span>Starts on: {{ formatDateTime(target.start_Time) }}</span>
        <span>Finishes on: {{ formatDateTime(target.finish_Time) }}</span>

        <span *ngIf="target.tag" class="chip chip-tag" aria-label="Tag">
          {{ target.tag }}
        </span>
      </div>
    </ng-container>

    <p *ngIf="error" class="error">{{ error }}</p>
  </div>
</div>

<app-target-create-overlay
  *ngIf="editOpen && target as t"
  [userId]="undefined"
  [target]="t"
  (close)="onEditClosed($event)">
</app-target-create-overlay>

<app-confirm-overlay
  *ngIf="confirmOpen"
  title="Delete target?"
  message="This action cannot be undone."
  (cancel)="cancelDelete()"
  (confirm)="confirmDelete()">
</app-confirm-overlay>
