<div class="overlay" (click)="dismiss()">
  <div class="card" (click)="$event.stopPropagation()">
    <button class="close" type="button" (click)="dismiss()">Ã—</button>

    <div *ngIf="isLeaderOrAdmin" class="admin-icons">
      <button class="icon" type="button" (click)="openEdit()">âœŽ</button>
      <button class="icon" type="button" (click)="askDelete()">ðŸ—‘</button>
    </div>

    <div *ngIf="loading" class="loading"><mat-spinner></mat-spinner></div>

    <ng-container *ngIf="!loading && grade">
      <h2 class="title">Grade details</h2>

      <div class="score">
        <div class="value">{{ displayValue(grade) }}</div>
        <div class="sub">/ 5 ({{ displayValuePercent(grade) }})</div>
      </div>

      <div class="desc-scroll">
        <p>{{ grade.description || 'â€”' }}</p>
      </div>

      <div class="meta">
        <div><strong>Beginning of period:</strong> {{ formatDate(grade.start_Date) }}</div>
        <div><strong>Finish of period:</strong> {{ formatDate(grade.finish_Date) }}</div>
      </div>

    </ng-container>

    <p *ngIf="error" class="error">{{ error }}</p>
  </div>
</div>

<app-grade-create-overlay
  *ngIf="editOpen && grade as g"
  [grade]="g"
  (close)="onEditClosed($event)">
</app-grade-create-overlay>


<app-confirm-overlay
  *ngIf="confirmOpen"
  title="Delete grade?"
  message="This action cannot be undone."
  (cancel)="cancelDelete()"
  (confirm)="confirmDelete()">
</app-confirm-overlay>
