<header class="page-header">
  <button class="back-btn" routerLink="/"><i class="fa fa-arrow-left"></i></button>
  <h1>Grades and progression</h1>
</header>

<main class="grade-layout">
  <!-- Column 1: Grades -->
  <section class="panel">
    <div class="panel-title"> </div>
    <div class="panel-scroll">
      <app-user-grade-list (select)="onGradeSelect($event)"></app-user-grade-list>
    </div>
  </section>

  <!-- Column 2: Targets -->
  <section class="panel">
    <div class="panel-title">Personal targets</div>
    <div class="panel-sub">Number of targets: {{targetCount}}</div>
    <div class="panel-scroll">
      <app-target-list (select)="onTargetSelect($event)"></app-target-list>
    </div>
  </section>

  <!-- Column 3: Courses -->
  <section class="panel">
    <div class="panel-title">Courses</div>
    <div class="panel-sub">You can select a course from the list:</div>
    <div class="panel-scroll">
      <app-course-list (select)="onCourseSelect($event)"></app-course-list>
    </div>
  </section>
</main>

<div class="overlay" *ngIf="selected">
  <div class="overlay-card">
    <app-grade-form [gradeToEdit]="selected" (changed)="onChanged()"></app-grade-form>
  </div>
</div>

<!-- Course details overlay -->
<app-course-enroll-overlay
  *ngIf="selectedCourseId"
  [courseId]="selectedCourseId!"
  (close)="onCourseOverlayClose($event)">
</app-course-enroll-overlay>

<!-- Target details overlay -->
<app-target-details-overlay
  *ngIf="selectedTargetId"
  [targetId]="selectedTargetId!"
  (close)="onTargetOverlayClose()">
</app-target-details-overlay>

<!-- Grade details overlay -->
<app-grade-details-overlay
  *ngIf="selectedGradeId"
  [gradeId]="selectedGradeId!"
  (close)="onGradeOverlayClose()"
></app-grade-details-overlay>
