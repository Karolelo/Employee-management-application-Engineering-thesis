<form [formGroup]="userEditForm" (NgSubmit)="onSubmit()">
  <h2 class="title-header">Edit user data: </h2>
  <mat-form-field>
    <input matInput placeholder="Name" formControlName="Name" required>
    <mat-error *ngIf="userEditForm.get('Name')?.hasError('required')">
      Name is required.
    </mat-error>
  </mat-form-field>
  <mat-form-field>
    <input matInput placeholder="Surname" formControlName="Surname" required>
    <mat-error *ngIf="userEditForm.get('Surname')?.hasError('required')">
      Surname is required.
    </mat-error>
  </mat-form-field>
  <mat-form-field>
    <input matInput placeholder="Nickname" formControlName="Nickname" required>
    <mat-error *ngIf="userEditForm.get('Nickname')?.hasError('required')">
      Nickname is required.
    </mat-error>
  </mat-form-field>
  <mat-form-field>
    <input matInput placeholder="Login" formControlName="Login" required>
    <mat-error *ngIf="userEditForm.get('Login')?.hasError('required')">
      Login is required.
    </mat-error>
    <mat-error *ngIf="userEditForm.get('Login')?.hasError('pattern')">
      <br>
      Login needs to start with capital letter and be between 6 and 15 characters<br>
      Login can contain only letters, numbers and underscore.<br>
    </mat-error>
  </mat-form-field>
  <mat-form-field>
    <input matInput placeholder="Email" formControlName="Email" required>
    <mat-error *ngIf="userEditForm.get('Email')?.hasError('required')">
      Email is required.
    </mat-error>
    <mat-error *ngIf="userEditForm.get('Email')?.hasError('email')">
      Its not correct email.
    </mat-error>
  </mat-form-field>
  <mat-form-field>
    <input matInput type="password" placeholder="Password" formControlName="Password" required>
    <mat-error *ngIf="userEditForm.get('Password')?.hasError('required')">
      Password is required.
    </mat-error>
    <mat-error *ngIf="userEditForm.get('Password')?.hasError('minlength')">
      Password needs to be at least 6 characters long.
    </mat-error>
  </mat-form-field>
  <mat-form-field>
    <input matInput type="password" placeholder="ConfirmPassword" formControlName="ConfirmPassword" required>
    <mat-error *ngIf="userEditForm.get('ConfirmPassword')?.hasError('required')">
      Confirm password is required.
    </mat-error>
  </mat-form-field>
  <div *ngIf="userEditForm.errors?.['passwordMismatch'] && userEditForm.get('ConfirmPassword')?.touched">
    <p style="color: var(--error-color)">Passwords do not match!</p>
  </div>
  <mat-form-field>
    <mat-select formControlName="Roles" multiple>
      <mat-option *ngFor="let role of Roles" [value]="role">
        {{ role }}
      </mat-option>
    </mat-select>
    <mat-error *ngIf="userEditForm.get('Roles')?.hasError('required')">
      Role is required.
    </mat-error>
  </mat-form-field>
  <button type="submit"
          (click)="onSubmit()"
          [disabled]="userEditForm.invalid"
          [ngClass]="{'valid': userEditForm.valid, 'invalid': userEditForm.invalid}">
    Update
  </button>
</form>
