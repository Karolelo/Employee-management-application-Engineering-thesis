<div class="mat-elevation-z2">
  <mat-toolbar *ngIf="activeEditing" class="small-toolbar">
    <mat-icon (click)="onAdd()">add</mat-icon>
    <mat-icon (click)="onEdit()">edit</mat-icon>
    <mat-icon (click)="onDelete()">delete</mat-icon>
    <span class="toolbar-spacer"></span>
    <mat-form-field class="search-field">
      <mat-label class="text-field"></mat-label>
      <input matInput placeholder="" (keydown)="applyFilter($event)" #input>
      <mat-icon matSuffix>search</mat-icon>
    </mat-form-field>
  </mat-toolbar>
  <table mat-table class="full-width-table" matSort aria-label="Elements">

    <!-- Nickname Column -->
    <ng-container matColumnDef="Nickname">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Nickname</th>
      <td mat-cell *matCellDef="let row">{{row.nickname}}</td>
    </ng-container>

    <!-- Name Column -->
    <ng-container matColumnDef="Name">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
      <td mat-cell *matCellDef="let row">{{row.name}}</td>
    </ng-container>

    <!-- Surname Column -->
    <ng-container matColumnDef="Surname">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Surname</th>
      <td mat-cell *matCellDef="let row">{{row.surname}}</td>
    </ng-container>

    <!-- Login Column -->
    <ng-container matColumnDef="Login">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Login</th>
      <td mat-cell *matCellDef="let row">{{row.login}}</td>
    </ng-container>

    <!-- Email Column -->
    <ng-container matColumnDef="Email">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Email</th>
      <td mat-cell *matCellDef="let row">{{row.email}}</td>
    </ng-container>

    <!-- Role Column -->
    <ng-container matColumnDef="Role">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Role</th>
      <td mat-cell *matCellDef="let row">{{row.roles?.concat(",")}}</td>
    </ng-container>

    <ng-container matColumnDef="Select">
      <th mat-header-cell *matHeaderCellDef mat-sort-header></th>
      <td mat-cell *matCellDef="let row">
        <input type="checkbox" [checked]="selectedIds.includes(row.id)" class="checkbox" (click)="selectUser(row.id,$event)">
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>
  <mat-paginator #paginator
      [length]="dataSource.dataSubject.value.length"
      [pageIndex]="0"
      [pageSize]="10"
      [pageSizeOptions]="[5, 10, 20]"
      aria-label="Select page">
  </mat-paginator>
</div>
